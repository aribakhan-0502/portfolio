# ETL Pipeline with BI Dashboard - Karachi Public Transport

This project outlines the development of an ETL pipeline and a BI dashboard for simulating and analyzing a public transportation network operational in Karachi, Pakistan. The project includes data generation, database design, data mart creation, and visualization using Power BI.

## Project Overview

The primary goal of this project is to create a realistic and comprehensive dataset for Karachi's public transport system and to analyze key metrics such as delays, revenue, and incidents. The project is divided into three main components:

1. **Data Generation**
2. **Database Design and ETL**
3. **BI Dashboard**

## 1. Data Generation

In the first stage, synthetic data was generated to simulate the public transport system. The data includes various entities such as Users, Drivers, Conductors, Buses, Routes, Fares, and more.

### Key Data Generation Aspects:
- **Routes & Buses**: Real-world references and web scraping were used to generate bus routes and schedules.
- **Trips**: Simulated with a minimum of 3 trips per day per bus, spanning from June 1, 2023, to May 31, 2024.
- **Personnel & Passengers**: Names and other details were generated using ChatGPT.
- **Incidents & Complaints**: Populated with realistic scenarios generated by ChatGPT.

## 2. Database Design and ETL

The database was designed using an OLTP schema, capturing detailed information about the transportation system. A data mart was then created for analytical purposes.

### OLTP Entities:
- **Users**: Passenger information.
- **Drivers & Conductors**: Personnel details.
- **Buses & Routes**: Vehicle and route details.
- **Fares & Schedules**: Fare rates and trip schedules.
- **Tickets & Payments**: Ticket purchase and payment details.
- **Incidents & Complaints**: Recorded incidents and customer complaints.
- **Buses_Drivers**: Bridge table linking buses and drivers.
- **Trips**: Details of scheduled and actual trips.

### Data Mart:
A data mart was created to analyze the following areas:
- **Delay Analysis**
- **Revenue Analysis**
- **Incidents Analysis**

#### Grain: 
One row of the fact table represents one trip.

#### Dimension Tables:
- **DimDate**
- **DimRoutes**
- **DimIncidents**
- **DimComplaints**
- **DimBuses**
- **DimPayments**

#### Fact Table:
The fact table captures analytics on delays, revenue, and incidents, with attributes such as:
- **Scheduled & Actual Times**
- **Delay Times**
- **Incident & Complaint Counts**
- **Total Fare**

## 3. Power BI Dashboard

The Power BI dashboard is divided into four sections:

### Section 1: Main Page

![Main Page](https://github.com/aribakhan-0502/portfolio/blob/main/ETL%20Pipeline%20with%20Power%20BI%20Dashboard/Dashboard%20Screen%20Caps/Home%20Page.png)

- Navigation to analysis sections: Delay, Revenue, and Incidents.
- Overview of the project and team.

### Section 2: Delay Analysis

![Delay Analysis](https://github.com/aribakhan-0502/portfolio/blob/main/ETL%20Pipeline%20with%20Power%20BI%20Dashboard/Dashboard%20Screen%20Caps/Delay%20Analysis.png)

- Analysis of delays by buses, routes, and other dimensions.
- Visualizations of delay trends over time.

### Section 3: Revenue Analysis

![Revenue Analysis](https://github.com/aribakhan-0502/portfolio/blob/main/ETL%20Pipeline%20with%20Power%20BI%20Dashboard/Dashboard%20Screen%20Caps/Revenue%20Analysis.png)

- Analysis of revenue trends by fare types, routes, and payment methods.

### Section 4: Incident Analysis

![Incident Analysis](https://github.com/aribakhan-0502/portfolio/blob/main/ETL%20Pipeline%20with%20Power%20BI%20Dashboard/Dashboard%20Screen%20Caps/Incident%20Analysis.png)

- Analysis of incidents and complaints, including their frequency and types.

## Project Files

The following files are included in this repository:
- **Data Generation Notebook**: Python script for generating the synthetic dataset.
- **OLTP to Data Mart Mapping Notebook**: Python script for mapping OLTP data to the data mart.
- **SQL Queries**: Scripts for querying the data mart.
- **Power BI Dashboard**: `.pbix` file containing the dashboard.
